(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{109:function(e,t,c){},110:function(e,t,c){},40:function(e,t){},517:function(e,t,c){},518:function(e,t,c){"use strict";c.r(t);var a=c(2),s=c(77),n=c.n(s),i=c(5),l=c(8),r=c(4),o=(c(84),c(0));var d=function(){return Object(o.jsx)("footer",{children:Object(o.jsx)("div",{className:" footer navbar-dark footer-border",children:Object(o.jsx)("p",{id:"footer-text",className:"text-center mt-2 text-light",children:"\xa9 Haggle.\xa0 All Rights Reserved"})})})},j=(c(86),function(e){var t=e.loggedIn,c=Object(a.useState)(!1),s=Object(r.a)(c,2),n=s[0];s[1];return n?Object(o.jsx)(l.a,{to:"/listings"}):Object(o.jsxs)("div",{children:[Object(o.jsx)("button",{className:"btn btn-primary",style:{background:"transparent",marginBottom:"30px"},type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasWithBothOptions","aria-controls":"offcanvasWithBothOptions",children:Object(o.jsx)("i",{className:"bi bi-list","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasWithBothOptions","aria-controls":"offcanvasWithBothOptions"})}),Object(o.jsxs)("div",{className:"offcanvas offcanvas-start","data-bs-scroll":"true",tabIndex:"-1",id:"offcanvasWithBothOptions","aria-labelledby":"offcanvasWithBothOptionsLabel",children:[Object(o.jsxs)("div",{className:"offcanvas-header",children:[Object(o.jsxs)("h3",{className:"offcanvas-title",id:"offcanvasWithBothOptionsLabel",role:"button",href:"/",children:[Object(o.jsx)("span",{role:"img","aria-label":"money",children:Object(o.jsx)("i",{className:"fas fa-hands-helping"})}),Object(o.jsx)("a",{className:"haggle",role:"button",href:"/",children:"Haggle"})]}),Object(o.jsx)("button",{type:"button",className:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})]}),Object(o.jsx)("div",{className:"offcanvas-body",children:Object(o.jsxs)("nav",{className:"nav flex-column",children:[Object(o.jsx)("a",{className:"nav-link active","aria-current":"page",role:"button",href:"/listings",children:"Listings"}),t?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("a",{className:"nav-link",role:"button",href:"/profile",children:"Profile"}),Object(o.jsx)("a",{className:"nav-link",role:"button",onClick:function(){console.log("logout button"),localStorage.clear(),window.location.replace("/")},children:"Logout"})]}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("a",{className:"nav-link",role:"button",href:"/login",children:"Login"}),Object(o.jsx)("a",{className:"nav-link",role:"button",href:"/signup",children:"Signup"})]}),Object(o.jsx)(d,{})]})})]})]})}),b=(c(91),c(15));var u=function(){var e=localStorage.getItem("userId"),t=Object(a.useState)(!1),c=Object(r.a)(t,2),s=c[0],n=c[1];return Object(a.useEffect)((function(){e&&n(!0)}),[]),Object(o.jsxs)("header",{className:"display-flex justify-space-between align-center p-2",children:[Object(o.jsx)(j,{loggedIn:s}),Object(o.jsxs)("h1",{id:"haggle",children:[Object(o.jsx)("span",{role:"img","aria-label":"money",children:Object(o.jsx)("i",{className:"fas fa-hands-helping"})}),Object(o.jsx)("a",{className:"no-button nav-btn",role:"button",href:"/",children:"Haggle"})]}),s?Object(o.jsx)("button",{className:"no-button nav-btn",id:"login",role:"button",onClick:function(){console.log("logout button"),localStorage.clear(),n(!1),window.location.replace("/")},children:Object(o.jsx)(b.a,{})}):Object(o.jsx)("a",{className:"no-button nav-btn",id:"login",role:"button",href:"/login",children:Object(o.jsx)(b.d,{})})]})},m=c(6),h=c.n(m),x=function(){return h.a.get("/api/listings")},O=function(e){return h.a.get("/api/listings/"+e)},p=function(e){return h.a.delete("/api/listings/"+e)},g=function(e){return console.log("111-listingData",e),h.a.post("/api/listing",e)},f=function(e){return h.a.put("/api/listings/edit/"+e)},v=function(e){return h.a.get("/api/users/"+e)},N=function(e){return h.a.post("/api/users",e)},y=function(e){return h.a.put("/api/users/id",e)},w=function(e){return console.log(e),h.a.post("/api/login",e)},S=function(){return Object(o.jsx)("div",{children:Object(o.jsx)(i.b,{to:"/signup",children:Object(o.jsx)("button",{className:"btn btn-primary",children:"Sign-up"})})})},C=function(){return Object(o.jsx)("div",{children:Object(o.jsx)(i.b,{to:"/profile",children:Object(o.jsx)("button",{className:"btn btn-primary",children:"View Profile"})})})},I=(c(109),function(){var e=localStorage.getItem("userId");return Object(o.jsx)("div",{className:"col-6",children:Object(o.jsxs)("div",{className:"welcome",children:[Object(o.jsxs)("h1",{children:[Object(o.jsx)("strong",{children:"Welcome to Haggle!"})," "]}),Object(o.jsx)("h5",{children:" Trade what you have to get what you want. "}),e?Object(o.jsx)(C,{}):Object(o.jsx)(S,{})]})})}),_=c.p+"static/media/handshake.b9d7d414.jpeg",F=function(e){var t=e.listings,c=localStorage.getItem("userId");return Object(o.jsx)("div",{className:"col-6",children:Object(o.jsx)("main",{className:"container container-fluid my-5 carousel-custom car-img",children:Object(o.jsxs)("div",{id:"carouselExampleCaptions",className:"carousel slide","data-bs-ride":"carousel",children:[Object(o.jsxs)("div",{className:"carousel-inner",style:{border:"3px solid rgb(230, 228, 228)"},children:[Object(o.jsxs)("div",{className:"carousel-item active",children:[Object(o.jsx)("img",{src:_,className:"d-block w-100",alt:"Landing page image"}),Object(o.jsxs)("div",{className:"carousel-caption carousel-caption-custom",children:[Object(o.jsx)("h5",{children:"Welcome to Haggle!"}),Object(o.jsx)("p",{children:"Scroll through to see current listings!"})]})]}),t.filter((function(e){return e.user!==c})).map((function(e){return Object(o.jsxs)("div",{className:"carousel-item",children:[Object(o.jsx)("img",{src:e.image_path,className:"d-block w-100",alt:"..."}),Object(o.jsxs)("div",{className:"carousel-caption carousel-caption-custom",children:[Object(o.jsx)("h5",{children:e.title}),Object(o.jsx)("p",{children:e.description})]})]},e._id)}))]}),Object(o.jsxs)("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#carouselExampleCaptions","data-bs-slide":"prev",children:[Object(o.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),Object(o.jsx)("span",{className:"visually-hidden",children:"Previous"})]}),Object(o.jsxs)("button",{className:"carousel-control-next",type:"button","data-bs-target":"#carouselExampleCaptions","data-bs-slide":"next",children:[Object(o.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),Object(o.jsx)("span",{className:"visually-hidden",children:"Next"})]})]})})})};var L=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),c=t[0],s=t[1];return Object(a.useEffect)((function(){x().then((function(e){return s(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(o.jsx)("div",{className:"container carousel-container",children:Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)(I,{}),Object(o.jsx)(F,{listings:c})]})})};var k=function(){var e=Object(a.useState)({}),t=Object(r.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(!1),i=Object(r.a)(n,2),d=i[0],j=i[1],b=Object(l.g)().id,u=c.user||{},m=localStorage.getItem("userId");return console.log(c.user),Object(a.useEffect)((function(){O(b).then((function(e){var t=e.data;console.log(t),s(t)})).catch((function(e){return console.log(e)}))}),[b]),Object(o.jsx)(o.Fragment,{children:d?Object(o.jsx)(l.a,{to:"/profile"}):Object(o.jsx)("div",{className:"card my-3 mx-auto",id:"listing-div",children:Object(o.jsxs)("div",{className:"row ",children:[Object(o.jsx)("div",{className:"col-md-6",children:Object(o.jsx)("img",{src:c.image_path,alt:c.title,className:"my-listing-photo"})}),Object(o.jsx)("div",{className:"col-md-6",children:Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsx)("h2",{className:"card-title",children:c.title}),Object(o.jsx)("p",{className:"card-text",children:c.description}),Object(o.jsx)("p",{className:"card-text",children:Object(o.jsxs)("small",{className:"text-muted",children:["Created by: ",u.name," on ",c.date_created]})}),Object(o.jsxs)("p",{children:["Category: ",c.category]}),Object(o.jsxs)("p",{children:["Status: ",c.status]}),m?Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"btn btn-info mt-4 mb-4",onClick:function(){h.a.put("/api/users/favorites/"+m,{$addToSet:{favorites:[c._id]}}).then((function(e){j(!0)})).catch((function(e){return console.log(e)}))},children:"Mark Favorite"})}):Object(o.jsx)("div",{children:Object(o.jsx)("a",{className:"btn btn-info mt-4 mb-4",href:"/login",children:"Mark Favorite"})}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"btn btn-info mt-4 mb-4",onClick:function(){c.user,f({id:"",title:Response.title,description:Response.description,category:Response.category,status:Response.status})},children:"Edit"})})]})})]})})})};var E=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),c=t[0],s=t[1],n=localStorage.getItem("userId");Object(a.useEffect)((function(){x().then((function(e){console.log(e.data),s(e.data)})).catch((function(e){return console.log(e)}))}),[]);var i=function(e){var t=e.substring(0,10).split("-"),c=t[0],a=t[1],s=t[2];return"".concat(a,"/").concat(s,"/").concat(c)};return Object(o.jsx)("main",{className:"container container-fluid my-5 carousel-custom",children:c.filter((function(e){return e.user!==n})).map((function(e){return Object(o.jsx)("div",{className:"card my-3 mx-auto",style:{maxWidth:"540px"},children:Object(o.jsxs)("div",{className:"row g-0",children:[Object(o.jsx)("div",{className:"col-md-4",children:Object(o.jsx)("img",{src:e.image_path,alt:e.title,className:"my-listing-photo"})}),Object(o.jsx)("div",{className:"col-md-8",children:Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsx)("h5",{className:"card-title",children:e.title}),Object(o.jsx)("p",{className:"card-text",children:e.description}),Object(o.jsx)("p",{className:"card-text",children:Object(o.jsxs)("small",{className:"text-muted",children:["Created on ",i(e.date_created)]})}),Object(o.jsx)("a",{className:"btn btn-primary",id:"listing-view",href:"/listings/".concat(e._id),children:"View Listing"})]})})]})},e._id)}))})};c(24);var M=function(){var e=Object(a.useState)(""),t=Object(r.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(""),l=Object(r.a)(n,2),d=l[0],j=l[1],b=Object(a.useState)(!1),u=Object(r.a)(b,2),m=(u[0],u[1]),h=Object(a.useState)(null),x=Object(r.a)(h,2);return x[0],x[1],Object(a.useEffect)((function(){window.location.reload.bind(window.location)})),Object(o.jsx)("div",{className:"container container-fluid ",children:Object(o.jsx)("div",{className:"row",children:Object(o.jsxs)("div",{className:"col-md-6",children:[Object(o.jsx)("h2",{children:"Login"}),Object(o.jsxs)("form",{className:"form new-project-form",children:[Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"email-login",children:"email:"}),Object(o.jsx)("input",{className:"form-input",type:"text",id:"email-login",onChange:function(e){return s(e.target.value)}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"password-login",children:"password:"}),Object(o.jsx)("input",{className:"form-input",type:"password",id:"password-login",onChange:function(e){return j(e.target.value)}})]}),Object(o.jsx)("div",{className:"form-group",children:Object(o.jsx)("button",{className:"btn btn-primary",type:"submit",onClick:function(e){e.preventDefault(),w({username:c,password:d,withCredentials:!0}).then((function(e){e.data.token&&(localStorage.setItem("token",e.data.token),localStorage.setItem("userId",e.data.userInfo.$__._id),localStorage.setItem("expiresAt",e.data.expiresAt),m(!0),window.location.replace("/profile")),console.log(e)})).catch((function(e){console.log(e)}))},children:"Login"})})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{children:"Don't have an account?"}),Object(o.jsx)(i.b,{to:"/signup",children:Object(o.jsx)("button",{className:"btn btn-primary",children:"Sign-up"})})]})]})})})};var A=function(){var e=Object(a.useState)(""),t=Object(r.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(""),d=Object(r.a)(n,2),j=d[0],b=d[1],u=Object(a.useState)(""),m=Object(r.a)(u,2),x=m[0],O=m[1],p=Object(a.useState)(""),g=Object(r.a)(p,2),f=g[0],v=g[1],y=Object(a.useState)(null),w=Object(r.a)(y,2),S=(w[0],w[1],Object(a.useState)({})),C=Object(r.a)(S,2),I=C[0],_=C[1],F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#3089cf",c=(document.querySelector("#oc-alert-container"),document.createElement("div")),a=document.createTextNode(e);c.setAttribute("class","oc-alert-pop-up"),$(c).css("background",t),c.appendChild(a),setTimeout((function(){$(c).remove()}),3e3)};return Object(o.jsx)("div",{children:f?Object(o.jsx)(l.a,{to:"/login",registeredUser:f}):Object(o.jsx)("div",{className:"container container-fluid",children:Object(o.jsx)("div",{className:"row",children:Object(o.jsxs)("div",{className:"col-md-6",children:[Object(o.jsx)("h2",{children:"Sign-up"}),Object(o.jsxs)("form",{className:"form new-project-form",children:[Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"name-signup",children:"name:"}),Object(o.jsx)("input",{className:"form-input",type:"text",id:"name-signup",onChange:function(e){return s(e.target.value)}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"email-signup",children:"email:"}),Object(o.jsx)("input",{className:"form-input",type:"text",id:"email-signup",onChange:function(e){return b(e.target.value)}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"password-signup",children:"password:"}),Object(o.jsx)("input",{className:"form-input",type:"password",id:"password-signup",onChange:function(e){return O(e.target.value)}})]}),Object(o.jsx)("div",{id:"oc-alert-container form-group"}),Object(o.jsxs)("div",{className:"card border-light mb-3",style:{boxShadow:"0 5px 10px 2px rgba(195,192,192,.5)"},children:[Object(o.jsxs)("div",{className:"card-header",children:[Object(o.jsx)("h3",{style:{color:"#555",marginLeft:"12px"},children:"Single Image Upload"}),Object(o.jsx)("p",{className:"text-muted",style:{marginLeft:"12px"},children:"Upload Size: 250px x 250px ( Max 5MB )"})]}),Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsx)("p",{className:"card-text",children:"Please upload an image for your profile"}),Object(o.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files;console.log(e.target.files),_({imagePath:t}),console.log("image path",t)}})]})]}),Object(o.jsx)("div",{className:"form-group",children:Object(o.jsx)("button",{className:"btn btn-primary",type:"submit",onClick:function(e){e.preventDefault();var t=new FormData,a=I.imagePath;if(console.log("selected files",a),a){console.log(a.length);for(var s=0;s<a.length;s++)t.append("profileImage",a[s],a[s].name),console.log("data",t);h.a.post("/api/upload/single-upload",t,{headers:{accept:"application/json","Accept-Language":"en-US,en;q=0.8","Content-Type":"multipart/form-data; boundary=".concat(t._boundary)}}).then((function(e){if(200===e.status)if(e.data.error)"LIMIT_FILE_SIZE"===e.data.error.code?F("Max size: 2MB","red"):(console.log(e.data),F(e.data.error,"red"));else{var t=e.data.location;console.log("fileName",t),F("File Uploaded","#3089cf"),N({name:c,username:j,password:x,picture_path:t,withCredentials:!0}).then((function(e){console.log(e),v(!0)})).catch((function(e){v(!1)}))}})).catch((function(e){F(e,"red")}))}else F("Please upload file","red")},children:"Sign-up"})})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{children:"Already have an account?"}),Object(o.jsx)(i.b,{to:"/login",children:Object(o.jsx)("button",{className:"btn btn-primary",children:"Login"})})]})]})})})})},U=c(79),T=(c(110),function(){var e=Object(a.useState)(null),t=Object(r.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(null),i=Object(r.a)(n,2),l=i[0],d=i[1];return Object(o.jsx)(o.Fragment,{children:Object(U.a)(Array(5)).map((function(e,t){var a=t+1;return Object(o.jsxs)("label",{children:[Object(o.jsx)("input",{id:"star-input",type:"radio",name:"rating",value:a,onClick:function(){return s(a)}}),Object(o.jsx)(b.b,{className:"star",color:a<=(l||c)?"#ffc107":"#e4e5e9",onMouseEnter:function(){return d(a)},onMouseLeave:function(){return d(null)}})]},a)}))})}),B=function(e){var t=e.users;return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{children:Object(o.jsxs)("h2",{className:"ml-3",style:{color:"white"},children:["Welcome ",t.name,"! "]})}),Object(o.jsxs)("div",{className:"card",style:{width:"18rem"},children:[Object(o.jsx)("img",{src:t.picture_path,className:"card-img-top img-thumbnail rounded-circle z-depth-2",alt:"..."}),Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsx)("p",{className:"card-text",children:t.email}),Object(o.jsx)("p",{className:"card-text",children:" rating status goes here"}),Object(o.jsx)("p",{className:"card-text",children:Object(o.jsx)(T,{})})]})]})]})},P=function(e){var t=e.deleteListing,c=e.id;return Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"btn btn-danger",id:"delete-btn",onClick:function(){return t(c)},children:Object(o.jsx)(b.c,{})})})},W=function(e){var t=e.myListings,c=(e.users,e.setUpdate,e.loggedIn),s=t._id,n=Object(a.useState)(!1),i=Object(r.a)(n,2),d=i[0],j=i[1];return console.log(t),console.log(c),Object(o.jsx)(o.Fragment,{children:d?Object(o.jsx)(l.a,{to:"/profile"}):Object(o.jsx)("div",{className:"accordion accordion-flush",id:"accordionFlushExample",style:{maxWidth:"540px"},children:Object(o.jsxs)("div",{className:"accordion-item",children:[Object(o.jsx)("h2",{className:"accordion-header",id:"flush-headingOne",children:Object(o.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseOne","aria-expanded":"false","aria-controls":"flush-collapseOne",children:t.title})}),Object(o.jsx)("div",{id:"flush-collapseOne",className:"accordion-collapse collapse","aria-labelledby":"flush-headingOne","data-bs-parent":"#accordionFlushExample",children:Object(o.jsx)("div",{className:"accordion-body",children:Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-md-12",children:Object(o.jsxs)("small",{className:"text-muted",children:["Created on ",t.date_created]})}),Object(o.jsx)("div",{className:"col-md-4 ",children:Object(o.jsx)("img",{src:t.image_path,alt:t.title,className:" img-thumbnail"})}),Object(o.jsx)("div",{className:"col-md-6",children:t.description}),Object(o.jsx)("div",{className:"col-md-4",children:Object(o.jsxs)("a",{className:"btn btn-primary",id:"listing-view",href:"/listings/".concat(t._id),children:[" ","View Listing"]})}),Object(o.jsx)("div",{className:"col-md-2",children:Object(o.jsx)(P,{deleteListing:function(e){p(e).then((function(e){return j(!0)})).catch((function(e){return console.log(e)}))},id:s})})]})})})]})},t._id)})},D=function(e){var t=e.myFavorites;console.log(t);return Object(o.jsx)("div",{children:Object(o.jsx)("div",{className:"card w-100 ",children:Object(o.jsxs)("div",{className:"card-body row",children:[Object(o.jsx)("a",{type:"button",style:{color:"#212529"},href:"/listings/".concat(t._id),children:Object(o.jsx)("div",{children:Object(o.jsx)("h5",{className:"card-title col-md-12",children:t.title})})}),Object(o.jsx)("div",{className:"col-md-4",style:{float:"left"},children:Object(o.jsx)("img",{src:t.image_path,className:"img-thumbnail",alt:"..."})}),Object(o.jsxs)("div",{className:"col-md-6",children:[Object(o.jsxs)("p",{className:"card-text",children:[t.description,"."]}),Object(o.jsx)("p",{className:"card-text",children:Object(o.jsxs)("small",{className:"text-muted",children:["Created on ",function(e){var t=e.substring(0,10).split("-"),c=t[0],a=t[1],s=t[2];return"".concat(a,"/").concat(s,"/").concat(c)}(t.date_created)]})}),Object(o.jsx)("a",{className:"btn btn-primary",id:"listing-view",href:"/listings/".concat(t._id),children:"View Listing"})]})]})})},t._id)};var H=function(){var e=Object(a.useState)(),t=Object(r.a)(e,2),c=(t[0],t[1]),s=Object(a.useState)({}),n=Object(r.a)(s,2),l=n[0],d=n[1],j=localStorage.getItem("userId"),b=l.listings||[],u=l.favorites||[],m=Object(a.useState)(!0),h=Object(r.a)(m,2),x=h[0];return h[1],Object(a.useEffect)((function(){v(j).then((function(e){var t=e.data;console.log(e.data);for(var c=e.data.total_ratings,a=0,s=0;s<c.length;s++)a=c[s]+a,console.log(a);a={averageRating:a/c.length},console.log(a),d(t),console.log(l)})).catch((function(e){return console.log(e)}))}),[j]),Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("div",{className:"row",children:[Object(o.jsxs)("div",{className:"col-md-4",children:[Object(o.jsx)(B,{users:l}),Object(o.jsxs)("div",{className:"col-md-12 myListing",children:[Object(o.jsx)("h2",{style:{color:"#fff"},children:"My Listings"}),b.map((function(e){return Object(o.jsx)("div",{children:Object(o.jsx)(W,{myListings:e,users:l,setUpdate:c,loggedIn:x},e._id)})})),Object(o.jsx)(i.b,{to:"/new-listing",children:Object(o.jsx)("button",{className:"btn btn-primary",children:"New Listing"})})]})]}),Object(o.jsxs)("div",{className:"col-md-6",children:[Object(o.jsx)("h2",{style:{color:"#fff"},children:"My Favorites"}),u.map((function(e){return Object(o.jsx)("div",{children:Object(o.jsx)(D,{myFavorites:e})})}))]})]})})};c(54);var q=function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"404 Page Not Found"}),Object(o.jsx)("h1",{children:Object(o.jsx)("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji",children:"\ud83d\ude44"})})]})},R=c(28),z=c(29),V=c(32),Z=c(31),J=c(13),G=c.n(J),X=function(e){Object(V.a)(c,e);var t=Object(Z.a)(c);function c(e){var a;return Object(R.a)(this,c),(a=t.call(this,e)).singleFileChangedHandler=function(e){a.setState({selectedFile:e.target.files[0]})},a.singleFileUploadHandler=function(e){var t=new FormData;a.state.selectedFile?(t.append("profileImage",a.state.selectedFile,a.state.selectedFile.name),h.a.post("/api/upload/single-upload",t,{headers:{accept:"application/json","Accept-Language":"en-US,en;q=0.8","Content-Type":"multipart/form-data; boundary=".concat(t._boundary)}}).then((function(e){if(200===e.status)if(e.data.error)"LIMIT_FILE_SIZE"===e.data.error.code?a.ocShowAlert("Max size: 2MB","red"):(console.log(e.data),a.ocShowAlert(e.data.error,"red"));else{var t=e.data;console.log("fileName",t),a.ocShowAlert("File Uploaded","#3089cf")}})).catch((function(e){a.ocShowAlert(e,"red")}))):a.ocShowAlert("Please upload file","red")},a.ocShowAlert=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#3089cf",c=document.querySelector("#oc-alert-container"),a=document.createElement("div"),s=document.createTextNode(e);a.setAttribute("class","oc-alert-pop-up"),G()(a).css("background",t),a.appendChild(s),c.appendChild(a),setTimeout((function(){G()(a).fadeOut("slow"),G()(a).remove()}),3e3)},a.state={selectedFile:null,selectedFiles:null},a}return Object(z.a)(c,[{key:"render",value:function(){return Object(o.jsx)("div",{children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("div",{id:"oc-alert-container"}),Object(o.jsxs)("div",{className:"card border-light mb-3 mt-5",style:{boxShadow:"0 5px 10px 2px rgba(195,192,192,.5)"},children:[Object(o.jsxs)("div",{className:"card-header",children:[Object(o.jsx)("h3",{style:{color:"#555",marginLeft:"12px"},children:"Single Image Upload"}),Object(o.jsx)("p",{className:"text-muted",style:{marginLeft:"12px"},children:"Upload Size: 250px x 250px ( Max 2MB )"})]}),Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsx)("p",{className:"card-text",children:"Please upload an image for your profile"}),Object(o.jsx)("input",{type:"file",onChange:this.singleFileChangedHandler}),Object(o.jsx)("div",{className:"mt-5",children:Object(o.jsx)("button",{className:"btn btn-info",onClick:this.singleFileUploadHandler,children:"Upload!"})})]})]})]})})}}]),c}(a.Component),K=(a.Component,c(30)),Q=c(43);var Y=function(){var e=Object(a.useState)({}),t=Object(r.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)({}),i=Object(r.a)(n,2),l=i[0],d=i[1];function j(e){var t=e.target,a=t.name,n=t.value,i=e.target.files;s(Object(Q.a)(Object(Q.a)({},c),{},Object(K.a)({},a,n))),d({imagePath:i}),console.log("image path",i),console.log(c)}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#3089cf",c=document.querySelector("#oc-alert-container"),a=document.createElement("div"),s=document.createTextNode(e);a.setAttribute("class","oc-alert-pop-up"),G()(a).css("background",t),a.appendChild(s),c.appendChild(a),setTimeout((function(){G()(a).fadeOut("slow"),G()(a).remove()}),3e4)}return Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("div",{className:"row mt-4",children:Object(o.jsxs)("div",{className:"col-md-6",children:[Object(o.jsx)("h2",{children:"Create a New Listing:"}),Object(o.jsxs)("form",{className:"form new-project-form",children:[Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"listing-name",children:"Listing Name:"}),Object(o.jsx)("input",{onChange:j,className:"form-input",type:"text",id:"listing-name",name:"listing_name"})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"listing-desc",children:"Listing Description:"}),Object(o.jsx)("textarea",{onChange:j,className:"form-input",type:"text",id:"listing-desc",name:"listing_desc"})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"listing-category",children:"Categories:"}),Object(o.jsxs)("select",{onChange:j,className:"form-control",type:"text",id:"listing-category",name:"listing_category",value:"Automobiles",children:[Object(o.jsx)("option",{value:"Automobiles",children:"Automobiles"}),Object(o.jsx)("option",{value:"Clothing",children:"Clothing"}),Object(o.jsx)("option",{value:"Farm Equipment",children:"Farm Equipment"}),Object(o.jsx)("option",{value:"Furniture",children:"Furniture"}),Object(o.jsx)("option",{value:"Miscellaneous",children:"Miscellaneous"}),Object(o.jsx)("option",{value:"Skilled Labor",children:"Skilled Labor"}),Object(o.jsx)("option",{value:"Unskilled Labor",children:"Unskilled Labor"})]}),Object(o.jsx)("input",{type:"hidden",id:"listing-status",name:"listing_status",value:"1"})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("div",{id:"oc-alert-container"}),Object(o.jsxs)("div",{className:"card border-light mb-3",style:{boxShadow:"0 5px 10px 2px rgba(195,192,192,.5)"},children:[Object(o.jsxs)("div",{className:"card-header",children:[Object(o.jsx)("h3",{style:{color:"#555",marginLeft:"12px"},children:"Upload Muliple Images"}),Object(o.jsx)("p",{className:"text-muted",style:{marginLeft:"12px"},children:"Upload Size: 400px x 400px ( Max 5MB )"})]}),Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsx)("p",{className:"card-text",children:"Please upload the Gallery Images for your gallery"}),Object(o.jsx)("input",{type:"file",multiple:!0,onChange:j})]})]})]}),Object(o.jsx)("div",{className:"form-group",children:Object(o.jsx)("button",{id:"listing-create",type:"submit",className:"btn btn-info mt-4 mb-4",onClick:function(e){e.preventDefault();var t=new FormData;console.log(t);var a=l.imagePath;if(console.log("selected files",a),a){console.log(a.length);for(var s=0;s<a.length;s++)t.append("galleryImage",a[s],a[s].name),console.log("data",t);h.a.post("/api/upload/multiple-file-upload",t,{headers:{accept:"application/json","Accept-Language":"en-US,en;q=0.8","Content-Type":"multipart/form-data; boundary=".concat(t._boundary)}}).then((function(e){if(console.log("response",e),console.log("res",e.status),200===e.status)if(e.data.error)"LIMIT_FILE_SIZE"===e.data.error.code?b("Max size: 5MB","red"):"LIMIT_UNEXPECTED_FILE"===e.data.error.code?b("Max 4 images allowed","red"):b(e.data.error,"red");else{var t=e.data.locationArray;console.log("fileName",t),b("File Uploaded","#3089cf"),g({title:c.listing_name,description:c.listing_desc,date_created:Date.now(),category:c.listing_category,status:"Active",user:localStorage.getItem("userId"),image_path:t}).then((function(e){y({user:localStorage.getItem("userId"),listing:e.data._id}).then((function(e){window.location.replace("/profile")})).catch((function(e){console.log(e)}))}))}})).catch((function(e){console.log("error catch",e),b(e,"red")}))}else b("Please upload file","red")},children:"Create Listing"})})]})]})})})};c(517);var ee=function(){return Object(o.jsx)("div",{className:"flex-column justify-space-around ",children:Object(o.jsx)(i.a,{children:Object(o.jsxs)(l.d,{children:[Object(o.jsxs)(l.b,{exact:!0,path:"/",children:[Object(o.jsx)(u,{}),Object(o.jsx)(L,{})]}),Object(o.jsxs)(l.b,{exact:!0,path:"/new-listing",children:[Object(o.jsx)(u,{}),Object(o.jsx)(Y,{})]}),Object(o.jsxs)(l.b,{exact:!0,path:"/listings",children:[Object(o.jsx)(u,{}),Object(o.jsx)(E,{})]}),Object(o.jsxs)(l.b,{exact:!0,path:"/listings/:id",children:[Object(o.jsx)(u,{}),Object(o.jsx)(k,{})]}),Object(o.jsxs)(l.b,{exact:!0,path:"/profile/:id",children:[Object(o.jsx)(u,{}),Object(o.jsx)(H,{})]}),Object(o.jsxs)(l.b,{exact:!0,path:"/profile/",children:[Object(o.jsx)(u,{}),Object(o.jsx)(H,{})]}),Object(o.jsxs)(l.b,{exact:!0,path:"/login",children:[Object(o.jsx)(u,{}),Object(o.jsx)(M,{})]}),Object(o.jsxs)(l.b,{exact:!0,path:"/signup",children:[Object(o.jsx)(u,{}),Object(o.jsx)(A,{})]}),Object(o.jsx)(l.b,{exact:!0,path:"/upload",children:Object(o.jsx)(X,{})}),Object(o.jsx)(l.b,{children:Object(o.jsx)(q,{})})]})})})};n.a.render(Object(o.jsx)(ee,{}),document.getElementById("root"))},84:function(e,t,c){},86:function(e,t,c){},91:function(e,t,c){}},[[518,1,2]]]);
//# sourceMappingURL=main.69ec0396.chunk.js.map